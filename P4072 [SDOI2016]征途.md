[题目传送门](https://www.luogu.com.cn/problem/P4072)

由方差的定义，$m^2s^2=m\sum_{i=1}^{m}{{x_i}^2}-m^2\overline{x}^2$。$m^2 \overline{x}^2$ 和 $m$ 都是常量，要关注的只有 $\sum_{i=1}^{m}{{x_i}^2}$——最小平方和。

于是定义 $f_{k,i}$ 为前 $i$ 段路走了 $k$ 天，从第一天到现在，每天走的路径长度之和的最小平方和，得到 dp 式子 $f_{k,i}=min\{f_{k-1,j}+(s_i-s_j)^2\}$。其中 $s_i-s_j$ 表示第 $k$ 天走了第 $j+1$ 到 $i$ 段路（前缀和优化）。此时时间复杂度为 $O(n^2m)$。转化为斜率优化形式，$f_j+{s_j}^2=2\times s_i\times s_j+(f_i-{s_i}^2)$。时间复杂度 $O(nm)$ 。

注意：初始化 f 数组，第一天走任意远，否则后面会少情况。求前缀和顺便 `f[1][i]=s[i]*s[i]` ，枚举天数从 2 开始。